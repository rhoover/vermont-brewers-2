angular.module("vbaV2App",["ngAnimate","ngTouch"]);"use strict";angular.module("vbaV2App").factory("memberjson",["$http",function($http){return{getMemberData:function(){return $http.get("http://www.vermontbrewers.com/wp-content/themes/vbav2/data/vbamembership.json").then(function(result){return result.data})}}}]);"use strict";
angular.module("vbaV2App").factory("storageService",[function(){return{get:function(key){var value=sessionStorage.getItem(key);var parseMe=angular.fromJson(value);return parseMe},save:function(key,data){var storeMe=angular.toJson(data);sessionStorage.setItem(key,storeMe)}}}]);"use strict";
angular.module("vbaV2App").service("googleMap",[function(){return{mapOptions:function(zoom,lat,lon){var mapOptionsStuff;mapOptionsStuff={zoom:zoom,center:new google.maps.LatLng(lat,lon),mapTypeControl:true,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},zoomControl:true,streetViewControl:false,mapTypeId:google.maps.MapTypeId.ROADMAP};return mapOptionsStuff},mapCreator:function(div,myMapOptions){var mapCreatorStuff;mapCreatorStuff=new google.maps.Map(div,myMapOptions);return mapCreatorStuff},
mapMarker:function(map,lat,lon){var markerStuff;markerStuff=new google.maps.Marker({position:new google.maps.LatLng(lat,lon),map:map});return markerStuff},infoWindowCreator:function(infoContent){var infoWindowStuff;infoWindowStuff=new google.maps.InfoWindow({content:infoContent});return infoWindowStuff},infoWindowClick:function(map,marker,infowindow){var clickEventStuff;clickEventStuff=google.maps.event.addListener(marker,"click",function(){infowindow.open(map,marker)});return clickEventStuff},infoWindowsClick:function(map,
marker,infowindow,infoContent){var multipleClickEventStuff;multipleClickEventStuff=google.maps.event.addListener(marker,"click",function(marker,infoContent){return function(){infowindow.setContent(infoContent);infowindow.open(map,marker)}}(marker,infoContent));return multipleClickEventStuff}}}]);"use strict";
angular.module("vbaV2App").filter("memberdata",[function(){return{member:function(input,arg){var outMember=[];for(var i=0;i<input.length;i++)if(input[i].selector===arg){outMember.push(input[i]);return outMember[0]}}}}]);"use strict";
angular.module("vbaV2App").controller("MemberListCtrl",["$scope","memberjson","storageService",function($scope,memberjson,storageService){$scope.$emit("LOADING");var membershipCache=storageService.get("vba-membership-cache");if(membershipCache!=null){$scope.memberList=membershipCache;$scope.$emit("LOADED")}else memberjson.getMemberData().then(function(data){$scope.memberList=data;$scope.$emit("LOADED");storageService.save("vba-membership-cache",data)})}]);"use strict";
angular.module("vbaV2App").controller("MemberPageCtrl",["$scope","$attrs","memberjson","storageService","memberdataFilter",function($scope,$attrs,memberjson,storageService,memberdataFilter){$scope.$emit("LOADING");var membershipCache=storageService.get("vba-membership-cache");if(membershipCache!=null){$scope.member=memberdataFilter.member(membershipCache,$attrs.member);$scope.$emit("LOADED")}else memberjson.getMemberData().then(function(data){$scope.member=memberdataFilter.member(data,$attrs.member);
$scope.$emit("LOADED");storageService.save("vba-membership-cache",data)})}]);"use strict";
angular.module("vbaV2App").controller("MembershipMapCtrl",["$scope","memberjson","storageService",function($scope,memberjson,storageService){$scope.$emit("LOADING");var membershipCache=storageService.get("vba-membership-cache");if(membershipCache!=null){$scope.members=membershipCache;$scope.$emit("LOADED")}else memberjson.getMemberData().then(function(data){$scope.$emit("LOADED");storageService.save("vba-membership-cache",data)})}]);"use strict";
angular.module("vbaV2App").directive("bannerImage",[function(){return{restrict:"A",compile:function(tElement,tAttributes,transclude){return function(scope,element,attrs){var result=getComputedStyle(element[0],":after").content;result=result.replace(/"/g,"");switch(result){case "phone":element.addClass("bg-phone");break;case "tablet":element.addClass("bg-tablet");break;case "computer":element.addClass("bg-computer");break}}}}}]);"use strict";
angular.module("vbaV2App").directive("backButton",[function(){return{restrict:"A",link:function(scope,element,attrs){element.bind("click",goBack);function goBack(){history.back();scope.$apply()}}}}]);"use strict";angular.module("vbaV2App").directive("showSocial",[function(){return{restrict:"A",link:function(scope,element,attrs){if(!attrs.href)element.addClass("social-noshow")}}}]);"use strict";
angular.module("vbaV2App").directive("memberpageMap",["$timeout","googleMap",function($timeout,googleMap){return{restrict:"A",compile:function(tElement,tAttributes,transclude){return function(scope,element,attrs){$timeout(function(){var lat=scope.member.latitude;var lon=scope.member.longitude;var myMapOptions,map,marker,infoContent,infowindow;var div=element[0];myMapOptions=googleMap.mapOptions(10,lat,lon);map=googleMap.mapCreator(div,myMapOptions);marker=googleMap.mapMarker(map,lat,lon);infoContent=
"<p>"+scope.member.name+"</p>"+"<p>"+scope.member.address+"</p>"+"<p>"+scope.member.city+", "+scope.member.state+"</p>";infowindow=googleMap.infoWindowCreator(infoContent);googleMap.infoWindowClick(map,marker,infowindow)},0)}}}}]);"use strict";
angular.module("vbaV2App").directive("membershippageMap",["$timeout","googleMap",function($timeout,googleMap){return{restrict:"A",compile:function(tElement,tAttributes,transclude){return function(scope,element,attrs){$timeout(function(){var myMapOptions,map,marker,infoContent,infowindow,i;var div=element[0];myMapOptions=googleMap.mapOptions(7,44.0407,-72.7093);map=googleMap.mapCreator(div,myMapOptions);for(i=0;i<scope.members.length;i++){var aml=scope.members[i];marker=googleMap.mapMarker(map,aml.latitude,
aml.longitude);infoContent="<p>"+aml.name+"</p>"+"<p>"+aml.address+"</p>"+"<p>"+aml.city+", "+aml.state+"</p>"+'<a href="http://vermontbrewers.com/'+aml.selector+' ">Go To Listing</a>';infowindow=googleMap.infoWindowCreator(infoContent);googleMap.infoWindowsClick(map,marker,infowindow,infoContent)}},300)}}}}]);